{
  "swagger": "2.0",
  "info": {
    "title": "driver.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "DriverService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {},
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1AvailableDriver": {
      "type": "object",
      "properties": {
        "driver": {
          "$ref": "#/definitions/v1Driver"
        },
        "distanceKm": {
          "type": "number",
          "format": "double"
        },
        "estimatedEtaMinutes": {
          "type": "integer",
          "format": "int64"
        },
        "canBeAssigned": {
          "type": "boolean"
        },
        "reasonIfNot": {
          "type": "string"
        }
      }
    },
    "v1Driver": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "name": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "licenseNumber": {
          "type": "string"
        },
        "licenseExpiry": {
          "type": "string",
          "format": "date-time"
        },
        "medicalCertExpiry": {
          "type": "string",
          "format": "date-time"
        },
        "status": {
          "$ref": "#/definitions/v1DriverStatus"
        },
        "rating": {
          "type": "number",
          "format": "double"
        },
        "totalTrips": {
          "type": "integer",
          "format": "int64"
        },
        "isActive": {
          "type": "boolean"
        },
        "hiredAt": {
          "type": "string",
          "format": "date-time"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "address": {
          "type": "string",
          "title": "Profile information"
        },
        "dateOfBirth": {
          "type": "string",
          "format": "date-time"
        },
        "emergencyName": {
          "type": "string"
        },
        "emergencyPhone": {
          "type": "string"
        },
        "fuelEfficiency": {
          "type": "number",
          "format": "double",
          "title": "Performance metrics"
        },
        "onTimeDeliveries": {
          "type": "integer",
          "format": "int64"
        },
        "customerRatingSum": {
          "type": "number",
          "format": "double"
        },
        "customerRatingCount": {
          "type": "integer",
          "format": "int64"
        },
        "currentTripId": {
          "type": "integer",
          "format": "int64",
          "title": "Current assignment"
        },
        "currentVehicleId": {
          "type": "integer",
          "format": "int64"
        },
        "currentLocation": {
          "$ref": "#/definitions/v1Location",
          "title": "Current location"
        }
      },
      "title": "Messages"
    },
    "v1DriverCompliance": {
      "type": "object",
      "properties": {
        "driverId": {
          "type": "integer",
          "format": "int64"
        },
        "driverName": {
          "type": "string"
        },
        "complianceScore": {
          "type": "number",
          "format": "double"
        },
        "licenseStatus": {
          "type": "string"
        },
        "licenseDaysToExpiry": {
          "type": "integer",
          "format": "int32"
        },
        "medicalCertStatus": {
          "type": "string"
        },
        "medicalCertDaysToExpiry": {
          "type": "integer",
          "format": "int32"
        },
        "issues": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v1DriverLocationUpdate": {
      "type": "object",
      "properties": {
        "driverId": {
          "type": "integer",
          "format": "int64"
        },
        "name": {
          "type": "string"
        },
        "location": {
          "$ref": "#/definitions/v1Location"
        },
        "status": {
          "$ref": "#/definitions/v1DriverStatus"
        },
        "currentTripId": {
          "type": "integer",
          "format": "int64"
        },
        "currentVehicleId": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "v1DriverPerformanceMetric": {
      "type": "object",
      "properties": {
        "driverId": {
          "type": "integer",
          "format": "int64"
        },
        "driverName": {
          "type": "string"
        },
        "rating": {
          "type": "number",
          "format": "double"
        },
        "totalTrips": {
          "type": "integer",
          "format": "int64"
        },
        "completedTrips": {
          "type": "integer",
          "format": "int64"
        },
        "completionRate": {
          "type": "number",
          "format": "double"
        },
        "onTimeRate": {
          "type": "number",
          "format": "double"
        },
        "fuelEfficiency": {
          "type": "number",
          "format": "double"
        },
        "revenueGenerated": {
          "type": "number",
          "format": "double"
        },
        "customerRating": {
          "type": "number",
          "format": "double"
        },
        "safetyScore": {
          "type": "number",
          "format": "double"
        },
        "distanceDriven": {
          "type": "number",
          "format": "double"
        },
        "incidentsCount": {
          "type": "integer",
          "format": "int64"
        },
        "performanceGrade": {
          "type": "string",
          "title": "A, B, C, D, F"
        },
        "improvementPercentage": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1DriverStats": {
      "type": "object",
      "properties": {
        "totalDrivers": {
          "type": "integer",
          "format": "int64"
        },
        "activeDrivers": {
          "type": "integer",
          "format": "int64"
        },
        "availableDrivers": {
          "type": "integer",
          "format": "int64"
        },
        "onTripDrivers": {
          "type": "integer",
          "format": "int64"
        },
        "onBreakDrivers": {
          "type": "integer",
          "format": "int64"
        },
        "offlineDrivers": {
          "type": "integer",
          "format": "int64"
        },
        "licenseExpiringSoon": {
          "type": "integer",
          "format": "int64"
        },
        "medicalCertExpiring": {
          "type": "integer",
          "format": "int64"
        },
        "averageRating": {
          "type": "number",
          "format": "double"
        },
        "topPerformerId": {
          "type": "integer",
          "format": "int64"
        },
        "topPerformerName": {
          "type": "string"
        },
        "topPerformerRating": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1DriverStatus": {
      "type": "string",
      "enum": [
        "DRIVER_STATUS_UNSPECIFIED",
        "DRIVER_STATUS_AVAILABLE",
        "DRIVER_STATUS_ON_TRIP",
        "DRIVER_STATUS_ON_BREAK",
        "DRIVER_STATUS_OFFLINE",
        "DRIVER_STATUS_MAINTENANCE"
      ],
      "default": "DRIVER_STATUS_UNSPECIFIED"
    },
    "v1DriverStatusUpdate": {
      "type": "object",
      "properties": {
        "driverId": {
          "type": "integer",
          "format": "int64"
        },
        "name": {
          "type": "string"
        },
        "oldStatus": {
          "$ref": "#/definitions/v1DriverStatus"
        },
        "newStatus": {
          "$ref": "#/definitions/v1DriverStatus"
        },
        "reason": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "v1FilterParams": {
      "type": "object",
      "properties": {
        "search": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "isActive": {
          "type": "boolean"
        },
        "sortBy": {
          "type": "string"
        },
        "sortDesc": {
          "type": "boolean"
        },
        "startDate": {
          "type": "string",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Common filter parameters"
    },
    "v1GetAvailableDriversResponse": {
      "type": "object",
      "properties": {
        "drivers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1AvailableDriver"
          }
        }
      }
    },
    "v1GetDriversResponse": {
      "type": "object",
      "properties": {
        "drivers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Driver"
          }
        },
        "pagination": {
          "$ref": "#/definitions/v1Pagination"
        }
      }
    },
    "v1Location": {
      "type": "object",
      "properties": {
        "latitude": {
          "type": "number",
          "format": "double"
        },
        "longitude": {
          "type": "number",
          "format": "double"
        },
        "accuracy": {
          "type": "number",
          "format": "double"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Location message for GPS coordinates"
    },
    "v1Pagination": {
      "type": "object",
      "properties": {
        "page": {
          "type": "integer",
          "format": "int32"
        },
        "limit": {
          "type": "integer",
          "format": "int32"
        },
        "total": {
          "type": "integer",
          "format": "int32"
        },
        "totalPages": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "Pagination for list requests"
    },
    "v1SuccessResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        },
        "success": {
          "type": "boolean"
        }
      },
      "title": "Success response for operations"
    }
  }
}
