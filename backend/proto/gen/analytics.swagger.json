{
  "swagger": "2.0",
  "info": {
    "title": "analytics.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "AnalyticsService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {},
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1AlertNotification": {
      "type": "object",
      "properties": {
        "alertId": {
          "type": "string"
        },
        "alertType": {
          "type": "string"
        },
        "severity": {
          "$ref": "#/definitions/v1AlertSeverity"
        },
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "vehicleId": {
          "type": "integer",
          "format": "int64"
        },
        "driverId": {
          "type": "integer",
          "format": "int64"
        },
        "location": {
          "$ref": "#/definitions/v1Location"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "requiresAction": {
          "type": "boolean"
        },
        "recommendedAction": {
          "type": "string"
        }
      }
    },
    "v1AlertSeverity": {
      "type": "string",
      "enum": [
        "ALERT_SEVERITY_UNSPECIFIED",
        "ALERT_SEVERITY_LOW",
        "ALERT_SEVERITY_MEDIUM",
        "ALERT_SEVERITY_HIGH",
        "ALERT_SEVERITY_CRITICAL"
      ],
      "default": "ALERT_SEVERITY_UNSPECIFIED"
    },
    "v1AuditLog": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "action": {
          "type": "string"
        },
        "severity": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "tableName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        },
        "oldValues": {
          "type": "string",
          "title": "JSON"
        },
        "newValues": {
          "type": "string",
          "title": "JSON"
        },
        "ipAddress": {
          "type": "string"
        },
        "userAgent": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "userId": {
          "type": "integer",
          "format": "int64"
        },
        "driverId": {
          "type": "integer",
          "format": "int64"
        },
        "vehicleId": {
          "type": "integer",
          "format": "int64"
        },
        "tripId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "Audit Logs"
    },
    "v1ComplianceIssue": {
      "type": "object",
      "properties": {
        "issueType": {
          "type": "string",
          "description": "LICENSE_EXPIRED, INSURANCE_EXPIRED, etc."
        },
        "severity": {
          "$ref": "#/definitions/v1AlertSeverity"
        },
        "description": {
          "type": "string"
        },
        "affectedCount": {
          "type": "integer",
          "format": "int64"
        },
        "deadline": {
          "type": "string",
          "format": "date-time"
        },
        "affectedIds": {
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int64"
          },
          "title": "Driver or vehicle IDs"
        }
      }
    },
    "v1ComplianceReport": {
      "type": "object",
      "properties": {
        "overallScore": {
          "type": "number",
          "format": "double",
          "title": "Overall compliance score"
        },
        "totalDrivers": {
          "type": "integer",
          "format": "int64",
          "title": "Driver compliance"
        },
        "compliantDrivers": {
          "type": "integer",
          "format": "int64"
        },
        "licenseExpiring": {
          "type": "integer",
          "format": "int64"
        },
        "medicalCertExpiring": {
          "type": "integer",
          "format": "int64"
        },
        "driverCompliance": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1DriverCompliance"
          }
        },
        "totalVehicles": {
          "type": "integer",
          "format": "int64",
          "title": "Vehicle compliance"
        },
        "compliantVehicles": {
          "type": "integer",
          "format": "int64"
        },
        "registrationExpiring": {
          "type": "integer",
          "format": "int64"
        },
        "insuranceExpiring": {
          "type": "integer",
          "format": "int64"
        },
        "maintenanceDue": {
          "type": "integer",
          "format": "int64"
        },
        "vehicleCompliance": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1VehicleCompliance"
          }
        },
        "criticalIssues": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ComplianceIssue"
          },
          "title": "Critical issues"
        },
        "generatedAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Compliance Report"
    },
    "v1DailyFuelEfficiency": {
      "type": "object",
      "properties": {
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "averageEfficiency": {
          "type": "number",
          "format": "double"
        },
        "fuelCost": {
          "type": "number",
          "format": "double"
        },
        "vehiclesActive": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "v1DailyPerformance": {
      "type": "object",
      "properties": {
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "tripsCount": {
          "type": "integer",
          "format": "int64"
        },
        "distance": {
          "type": "number",
          "format": "double"
        },
        "revenue": {
          "type": "number",
          "format": "double"
        },
        "fuelCost": {
          "type": "number",
          "format": "double"
        },
        "efficiency": {
          "type": "number",
          "format": "double"
        },
        "activeVehicles": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "v1DailyRevenue": {
      "type": "object",
      "properties": {
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "revenue": {
          "type": "number",
          "format": "double"
        },
        "costs": {
          "type": "number",
          "format": "double"
        },
        "profit": {
          "type": "number",
          "format": "double"
        },
        "tripsCount": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "v1DashboardStats": {
      "type": "object",
      "properties": {
        "totalVehicles": {
          "type": "integer",
          "format": "int64",
          "title": "Fleet overview"
        },
        "activeVehicles": {
          "type": "integer",
          "format": "int64"
        },
        "parkedVehicles": {
          "type": "integer",
          "format": "int64"
        },
        "maintenanceVehicles": {
          "type": "integer",
          "format": "int64"
        },
        "totalDrivers": {
          "type": "integer",
          "format": "int64"
        },
        "availableDrivers": {
          "type": "integer",
          "format": "int64"
        },
        "onTripDrivers": {
          "type": "integer",
          "format": "int64"
        },
        "activeTrips": {
          "type": "integer",
          "format": "int64",
          "title": "Today's stats"
        },
        "completedTripsToday": {
          "type": "integer",
          "format": "int64"
        },
        "todayRevenue": {
          "type": "number",
          "format": "double"
        },
        "todayFuelCost": {
          "type": "number",
          "format": "double"
        },
        "todayProfit": {
          "type": "number",
          "format": "double"
        },
        "todayDistance": {
          "type": "number",
          "format": "double"
        },
        "fleetEfficiency": {
          "type": "number",
          "format": "double",
          "title": "Performance metrics"
        },
        "onTimeDeliveryRate": {
          "type": "number",
          "format": "double"
        },
        "customerSatisfaction": {
          "type": "number",
          "format": "double"
        },
        "fuelTheftSavings": {
          "type": "number",
          "format": "double"
        },
        "criticalAlerts": {
          "type": "integer",
          "format": "int64",
          "title": "Alerts summary"
        },
        "fuelTheftAlerts": {
          "type": "integer",
          "format": "int64"
        },
        "complianceWarnings": {
          "type": "integer",
          "format": "int64"
        },
        "maintenanceDue": {
          "type": "integer",
          "format": "int64"
        },
        "revenueTrend": {
          "type": "number",
          "format": "double",
          "description": "Percentage change",
          "title": "Trends (compared to previous period)"
        },
        "efficiencyTrend": {
          "type": "number",
          "format": "double"
        },
        "costTrend": {
          "type": "number",
          "format": "double"
        },
        "lastUpdated": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Messages"
    },
    "v1DashboardUpdate": {
      "type": "object",
      "properties": {
        "stats": {
          "$ref": "#/definitions/v1DashboardStats"
        },
        "changedMetrics": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "v1DriverCompliance": {
      "type": "object",
      "properties": {
        "driverId": {
          "type": "integer",
          "format": "int64"
        },
        "driverName": {
          "type": "string"
        },
        "complianceScore": {
          "type": "number",
          "format": "double"
        },
        "licenseStatus": {
          "type": "string"
        },
        "licenseDaysToExpiry": {
          "type": "integer",
          "format": "int32"
        },
        "medicalCertStatus": {
          "type": "string"
        },
        "medicalCertDaysToExpiry": {
          "type": "integer",
          "format": "int32"
        },
        "issues": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v1DriverFuelEfficiency": {
      "type": "object",
      "properties": {
        "driverId": {
          "type": "integer",
          "format": "int64"
        },
        "driverName": {
          "type": "string"
        },
        "efficiency": {
          "type": "number",
          "format": "double"
        },
        "targetEfficiency": {
          "type": "number",
          "format": "double"
        },
        "variancePercentage": {
          "type": "number",
          "format": "double"
        },
        "tripsCount": {
          "type": "integer",
          "format": "int64"
        },
        "efficiencyGrade": {
          "type": "string"
        }
      }
    },
    "v1DriverPerformanceMetric": {
      "type": "object",
      "properties": {
        "driverId": {
          "type": "integer",
          "format": "int64"
        },
        "driverName": {
          "type": "string"
        },
        "rating": {
          "type": "number",
          "format": "double"
        },
        "totalTrips": {
          "type": "integer",
          "format": "int64"
        },
        "completedTrips": {
          "type": "integer",
          "format": "int64"
        },
        "completionRate": {
          "type": "number",
          "format": "double"
        },
        "onTimeRate": {
          "type": "number",
          "format": "double"
        },
        "fuelEfficiency": {
          "type": "number",
          "format": "double"
        },
        "revenueGenerated": {
          "type": "number",
          "format": "double"
        },
        "customerRating": {
          "type": "number",
          "format": "double"
        },
        "safetyScore": {
          "type": "number",
          "format": "double"
        },
        "distanceDriven": {
          "type": "number",
          "format": "double"
        },
        "incidentsCount": {
          "type": "integer",
          "format": "int64"
        },
        "performanceGrade": {
          "type": "string",
          "title": "A, B, C, D, F"
        },
        "improvementPercentage": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1DriverPerformanceReport": {
      "type": "object",
      "properties": {
        "period": {
          "type": "string"
        },
        "drivers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1DriverPerformanceMetric"
          }
        },
        "fleetAverage": {
          "$ref": "#/definitions/v1DriverPerformanceMetric"
        },
        "generatedAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Driver Performance Report"
    },
    "v1FilterParams": {
      "type": "object",
      "properties": {
        "search": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "isActive": {
          "type": "boolean"
        },
        "sortBy": {
          "type": "string"
        },
        "sortDesc": {
          "type": "boolean"
        },
        "startDate": {
          "type": "string",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Common filter parameters"
    },
    "v1FleetPerformance": {
      "type": "object",
      "properties": {
        "period": {
          "type": "string"
        },
        "startDate": {
          "type": "string",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "format": "date-time"
        },
        "totalTrips": {
          "type": "integer",
          "format": "int64",
          "title": "Overall metrics"
        },
        "completedTrips": {
          "type": "integer",
          "format": "int64"
        },
        "cancelledTrips": {
          "type": "integer",
          "format": "int64"
        },
        "totalDistance": {
          "type": "number",
          "format": "double"
        },
        "totalRevenue": {
          "type": "number",
          "format": "double"
        },
        "totalFuelCost": {
          "type": "number",
          "format": "double"
        },
        "totalMaintenanceCost": {
          "type": "number",
          "format": "double"
        },
        "netProfit": {
          "type": "number",
          "format": "double"
        },
        "completionRate": {
          "type": "number",
          "format": "double",
          "title": "Performance indicators"
        },
        "onTimeRate": {
          "type": "number",
          "format": "double"
        },
        "averageTripDuration": {
          "type": "number",
          "format": "double"
        },
        "averageTripDistance": {
          "type": "number",
          "format": "double"
        },
        "revenuePerKm": {
          "type": "number",
          "format": "double"
        },
        "costPerKm": {
          "type": "number",
          "format": "double"
        },
        "fleetUtilization": {
          "type": "number",
          "format": "double",
          "title": "Efficiency metrics"
        },
        "driverUtilization": {
          "type": "number",
          "format": "double"
        },
        "fuelEfficiency": {
          "type": "number",
          "format": "double"
        },
        "topDrivers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1TopPerformer"
          },
          "title": "Top performers"
        },
        "topVehicles": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1TopPerformer"
          }
        },
        "dailyBreakdown": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1DailyPerformance"
          },
          "title": "Daily breakdown"
        }
      }
    },
    "v1FuelEfficiencyReport": {
      "type": "object",
      "properties": {
        "period": {
          "type": "string"
        },
        "fleetAverageEfficiency": {
          "type": "number",
          "format": "double"
        },
        "targetEfficiency": {
          "type": "number",
          "format": "double"
        },
        "efficiencyVariance": {
          "type": "number",
          "format": "double"
        },
        "totalFuelCost": {
          "type": "number",
          "format": "double"
        },
        "potentialSavings": {
          "type": "number",
          "format": "double"
        },
        "vehicles": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1VehicleFuelEfficiency"
          },
          "title": "Vehicle breakdown"
        },
        "drivers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1DriverFuelEfficiency"
          },
          "title": "Driver breakdown"
        },
        "dailyTrends": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1DailyFuelEfficiency"
          },
          "title": "Trends"
        },
        "generatedAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Fuel Efficiency Report"
    },
    "v1GetAuditLogsResponse": {
      "type": "object",
      "properties": {
        "logs": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1AuditLog"
          }
        },
        "pagination": {
          "$ref": "#/definitions/v1Pagination"
        }
      }
    },
    "v1GetSecurityEventsResponse": {
      "type": "object",
      "properties": {
        "events": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1SecurityEvent"
          }
        },
        "pagination": {
          "$ref": "#/definitions/v1Pagination"
        }
      }
    },
    "v1Location": {
      "type": "object",
      "properties": {
        "latitude": {
          "type": "number",
          "format": "double"
        },
        "longitude": {
          "type": "number",
          "format": "double"
        },
        "accuracy": {
          "type": "number",
          "format": "double"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Location message for GPS coordinates"
    },
    "v1Pagination": {
      "type": "object",
      "properties": {
        "page": {
          "type": "integer",
          "format": "int32"
        },
        "limit": {
          "type": "integer",
          "format": "int32"
        },
        "total": {
          "type": "integer",
          "format": "int32"
        },
        "totalPages": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "Pagination for list requests"
    },
    "v1PerformanceMetric": {
      "type": "object",
      "properties": {
        "metricType": {
          "type": "string"
        },
        "entityId": {
          "type": "integer",
          "format": "int64"
        },
        "entityName": {
          "type": "string"
        },
        "currentValue": {
          "type": "number",
          "format": "double"
        },
        "targetValue": {
          "type": "number",
          "format": "double"
        },
        "variance": {
          "type": "number",
          "format": "double"
        },
        "trend": {
          "type": "string",
          "title": "IMPROVING, DECLINING, STABLE"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "v1RevenueAnalytics": {
      "type": "object",
      "properties": {
        "period": {
          "type": "string"
        },
        "totalRevenue": {
          "type": "number",
          "format": "double"
        },
        "totalCosts": {
          "type": "number",
          "format": "double"
        },
        "netProfit": {
          "type": "number",
          "format": "double"
        },
        "profitMargin": {
          "type": "number",
          "format": "double"
        },
        "fuelCosts": {
          "type": "number",
          "format": "double",
          "title": "Cost breakdown"
        },
        "maintenanceCosts": {
          "type": "number",
          "format": "double"
        },
        "driverCosts": {
          "type": "number",
          "format": "double"
        },
        "overheadCosts": {
          "type": "number",
          "format": "double"
        },
        "revenueSources": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1RevenueSource"
          },
          "title": "Revenue sources"
        },
        "dailyTrends": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1DailyRevenue"
          },
          "title": "Trends"
        },
        "projectedMonthlyRevenue": {
          "type": "number",
          "format": "double",
          "title": "Projections"
        },
        "projectedMonthlyProfit": {
          "type": "number",
          "format": "double"
        },
        "generatedAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Revenue Analytics"
    },
    "v1RevenueSource": {
      "type": "object",
      "properties": {
        "sourceType": {
          "type": "string",
          "title": "DELIVERY, TRANSPORT, LOGISTICS"
        },
        "revenue": {
          "type": "number",
          "format": "double"
        },
        "tripsCount": {
          "type": "integer",
          "format": "int64"
        },
        "averagePerTrip": {
          "type": "number",
          "format": "double"
        },
        "percentageOfTotal": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1SecurityEvent": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "eventType": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "severity": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "ipAddress": {
          "type": "string"
        },
        "userAgent": {
          "type": "string"
        },
        "location": {
          "type": "string"
        },
        "riskScore": {
          "type": "number",
          "format": "double"
        },
        "isBlocked": {
          "type": "boolean"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "userId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "Security Events"
    },
    "v1SystemSettings": {
      "type": "object",
      "properties": {
        "settings": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "lastUpdated": {
          "type": "string",
          "format": "date-time"
        },
        "updatedBy": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "System Settings"
    },
    "v1TopPerformer": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "name": {
          "type": "string",
          "title": "Driver name or vehicle plate"
        },
        "metricValue": {
          "type": "number",
          "format": "double"
        },
        "metricType": {
          "type": "string",
          "description": "EFFICIENCY, REVENUE, RATING, etc."
        },
        "tripsCount": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "v1VehicleCompliance": {
      "type": "object",
      "properties": {
        "vehicleId": {
          "type": "integer",
          "format": "int64"
        },
        "licensePlate": {
          "type": "string"
        },
        "complianceScore": {
          "type": "number",
          "format": "double"
        },
        "registrationStatus": {
          "type": "string"
        },
        "registrationDaysToExpiry": {
          "type": "integer",
          "format": "int32"
        },
        "insuranceStatus": {
          "type": "string"
        },
        "insuranceDaysToExpiry": {
          "type": "integer",
          "format": "int32"
        },
        "maintenanceDue": {
          "type": "boolean"
        },
        "issues": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "v1VehicleFuelEfficiency": {
      "type": "object",
      "properties": {
        "vehicleId": {
          "type": "integer",
          "format": "int64"
        },
        "licensePlate": {
          "type": "string"
        },
        "efficiency": {
          "type": "number",
          "format": "double",
          "title": "km/liter"
        },
        "targetEfficiency": {
          "type": "number",
          "format": "double"
        },
        "variancePercentage": {
          "type": "number",
          "format": "double"
        },
        "fuelCost": {
          "type": "number",
          "format": "double"
        },
        "tripsCount": {
          "type": "integer",
          "format": "int64"
        },
        "distance": {
          "type": "number",
          "format": "double"
        },
        "efficiencyGrade": {
          "type": "string"
        }
      }
    },
    "v1VehicleUtilizationMetric": {
      "type": "object",
      "properties": {
        "vehicleId": {
          "type": "integer",
          "format": "int64"
        },
        "licensePlate": {
          "type": "string"
        },
        "utilizationRate": {
          "type": "number",
          "format": "double",
          "title": "Percentage of time in use"
        },
        "totalTrips": {
          "type": "integer",
          "format": "int64"
        },
        "totalDistance": {
          "type": "number",
          "format": "double"
        },
        "fuelEfficiency": {
          "type": "number",
          "format": "double"
        },
        "revenueGenerated": {
          "type": "number",
          "format": "double"
        },
        "maintenanceCost": {
          "type": "number",
          "format": "double"
        },
        "profitMargin": {
          "type": "number",
          "format": "double"
        },
        "idleHours": {
          "type": "integer",
          "format": "int64"
        },
        "maintenanceHours": {
          "type": "integer",
          "format": "int64"
        },
        "performanceGrade": {
          "type": "string"
        },
        "costPerKm": {
          "type": "number",
          "format": "double"
        },
        "revenuePerKm": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1VehicleUtilizationReport": {
      "type": "object",
      "properties": {
        "period": {
          "type": "string"
        },
        "vehicles": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1VehicleUtilizationMetric"
          }
        },
        "fleetAverage": {
          "$ref": "#/definitions/v1VehicleUtilizationMetric"
        },
        "generatedAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "title": "Vehicle Utilization Report"
    }
  }
}
